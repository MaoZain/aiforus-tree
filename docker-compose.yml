version: '3.8'

services:
  generator-service:
    build: .
    container_name: threejs-generator
    restart: unless-stopped
    ports:
      - "3033:3033"
    environment:
      - PORT=3033
      - PUBLIC_URL_PREFIX=https://your-domain.com/generated/
      - CLEANUP_ENABLED=true
      - CLEANUP_CRON=0 * * * *
      - CLEANUP_TTL_HOURS=24
    volumes:
      # Persist generated files to host
      - ./public/generated:/app/public/generated
